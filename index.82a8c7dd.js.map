{"mappings":"imBAsBA,IAAAA,EACAC,E,iJArBA,IAAIC,EAAU,GAoBdF,EAlBA,SAAkBG,GAGhB,IAFA,IAAIC,EAAOC,OAAOD,KAAKD,GAEdG,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAC/BJ,EAAQE,EAAKE,IAAMH,EAAMC,EAAKE,G,EAelCL,EAXA,SAAiBO,GACf,IAAIC,EAAWP,EAAQM,GAEvB,GAAgB,MAAZC,EACF,MAAM,IAAIC,MAAM,oCAAsCF,GAGxD,OAAOC,C,KCnBTE,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,uGCE1C,SAAAC,EAA2BC,EAAa,GAGrD,OAAOC,MAFK,4FAAmCD,KAE7BE,MAAKC,GAAYA,EAASC,Q,CCL7B,IAAAC,IAAoBV,EAAA,SAAAW,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,WCK5F,MAAMC,EAAgBC,SAASC,cAAc,eAC7C,IAAIC,EAAoB,EAET,SAAAC,EAAoBC,EAAaC,EAAWC,GACzD,IAAIC,EAAS,GAGTC,EAAYJ,EAAc,EAC1BK,EAAeL,EAAc,EAiBjC,GAhBAF,EAAoBE,EAEhBA,EAAc,IAChBG,GAAU,oDACVA,GAAU,+BAERH,EAAc,IAChBG,GAAU,gBAERH,EAAc,IAChBG,GAAU,gBAdQH,EAAc,mBAgB9BA,EAAc,IAChBG,GAAU,eAhBKH,EAAc,mBAkB/BG,GAAU,mCAAmCH,kBACzCA,GAAeC,EACjB,OAAQN,EAAcW,UAAYH,EAEhCF,EAAW,EAAID,GACbI,GAAaH,IACfE,GAAU,eAAeC,mBAIzBH,EAAW,EAAID,GACbK,GAAgBJ,IAClBE,GAAU,eAAeE,mBAIzBJ,EAAW,EAAID,IACjBG,GAAU,iBAIRF,EAAWD,GAAeC,EAAWD,KACvCG,GAAU,eAAeF,kBACzBE,GAAU,uDAEZR,EAAcW,UAAYH,C,CAG5BR,EAAcY,iBAAiB,SAE/B,SAA2BC,GAEzB,GADAC,QAAQC,IAAIF,EAAIG,OAAOC,aACK,OAAxBJ,EAAIG,OAAOE,UAA6C,WAAxBL,EAAIG,OAAOE,SAC7C,OAEF,GAA+B,QAA3BL,EAAIG,OAAOC,YACb,OAEF,GAA+B,SAA3BJ,EAAIG,OAAOC,YAUb,OATAH,QAAQC,IAAI,sBACZ3B,EAAWe,GAAqB,GAC7BZ,MAAM4B,IACLC,EAAaD,EAAKE,SAClBjB,EAAWe,EAAKG,KAAMf,EAAU,IAEjCgB,OAAOC,IACNV,QAAQC,IAAIS,EAAM,IAIxB,GAA+B,UAA3BX,EAAIG,OAAOC,YAUb,OATAH,QAAQC,IAAI,uBACZ3B,EAAWe,GAAqB,GAC7BZ,MAAM4B,IACLC,EAAaD,EAAKE,SAClBjB,EAAWe,EAAKG,KAAMf,EAAU,IAEjCgB,OAAOC,IACNV,QAAQC,IAAIS,EAAM,IAKxBpC,EADayB,EAAIG,OAAOC,aAErB1B,MAAM4B,IACLC,EAAaD,EAAKE,SAClBjB,EAAWe,EAAKG,KAAMf,EAAU,IAEjCgB,OAAOC,IACNV,QAAQC,IAAIS,EAAM,G,IC/FxB,MAAMC,EAAOxB,SAASC,cAAc,UACvBK,EAAY,IAElB,SAASa,EAAaM,GAC3B,MAAMlB,EAASkB,EAAIC,QACjB,CAACC,GAAKC,MAAEA,EAAKC,aAAEA,EAAYC,YAAEA,KAC3BH,EACA,qFAAqFG,4DAAsEF,yBAA6BC,oBAC1L,IAEFL,EAAKd,UAAYH,EAUnB,WACE,MAAQwB,OAAQC,GAAeR,EAC5BS,kBAAkBC,wBAErBC,OAAOC,SAAS,CACdC,KAAkB,IAAbL,EACLM,SAAU,U,CAfZC,E,CAGFpD,IAAoBG,MAAM4B,IAExBC,EAAaD,EAAKE,SAClBjB,EAAWe,EAAKG,KAAMf,EAAU","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-07054ce79b0e8f41.js","src/js/fetchLord.js","node_modules/@parcel/runtime-js/lib/runtime-246d7f17877b7a3f.js","src/js/pagination.js","src/index.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"5ZPII\\\":\\\"index.82a8c7dd.js\\\",\\\"9v6fF\\\":\\\"symbol-defs.d1c9842b.svg\\\"}\"));","const BASE_URL = `https://api.themoviedb.org/3/movie/popular`;\nconst KEY = `002008aca7b79d6606168d582d26d735`;\nexport default function searchVCharacters(pageNumber = 1) {\n  const URL = `${BASE_URL}?api_key=${KEY}&page=${pageNumber}`;\n \n  return fetch(URL).then(response => response.json());\n}\n\n\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"9v6fF\")).toString();","import fetchLord from './fetchLord'\nimport { createMarkup } from '../index'\nimport { totalPage } from '../index'\nimport '../images/symbol-defs.svg'\n\nconst paginationBox = document.querySelector('.pagination')\nlet globalCurrentPage = 0\n\nexport default function pagination(currentPage, allPages = totalPage) {\n  let markup = ''\n  let beforeTwoPage = currentPage - 2\n  let beforePage = currentPage - 1\n  let afterPage = currentPage + 1\n  let afterTwoPage = currentPage + 2\n  globalCurrentPage = currentPage\n\n  if (currentPage > 1) {\n    markup += `<li><button class='arrow-left'>left</button></li>`\n    markup += `<li><button>1</button></li>`\n  }\n  if (currentPage > 4) {\n    markup += `<li>...</li>`\n  }\n  if (currentPage > 3) {\n    markup += `<li><button> ${beforeTwoPage}</button></li>`\n  }\n  if (currentPage > 2) {\n    markup += `<li><button>${beforePage}</button></li>`\n  }\n  markup += `<li><button class='currentPage'>${currentPage}</button></li>`\n  if (currentPage >= allPages) {\n    return (paginationBox.innerHTML = markup)\n  }\n  if (allPages - 1 > currentPage) {\n    if (afterPage <= allPages) {\n      markup += `<li><button>${afterPage}</button></li>`\n      // console.log(afterPage)\n    }\n  }\n  if (allPages - 2 > currentPage) {\n    if (afterTwoPage <= allPages) {\n      markup += `<li><button>${afterTwoPage}</button></li>`\n      // console.log(afterTwoPage)\n    }\n  }\n  if (allPages - 3 > currentPage) {\n    markup += `<li>...</li>`\n    // console.log(allPages)\n    // console.log(currentPage)\n  }\n  if (allPages > currentPage || allPages < currentPage) {\n    markup += `<li><button>${allPages}</button></li>`\n    markup += `<li><button class='arrow-right'>right</button></li>`\n  }\n  paginationBox.innerHTML = markup\n}\n\npaginationBox.addEventListener('click', handlrePagination)\n\nfunction handlrePagination(evt) {\n  console.log(evt.target.textContent)\n  if (evt.target.nodeName !== 'LI' && evt.target.nodeName !== 'BUTTON') {\n    return\n  }\n  if (evt.target.textContent === '...') {\n    return\n  }\n  if (evt.target.textContent === 'left') {\n    console.log('Hello im left')\n    fetchLord((globalCurrentPage -= 1))\n      .then((data) => {\n        createMarkup(data.results)\n        pagination(data.page, totalPage)\n      })\n      .catch((error) => {\n        console.log(error)\n      })\n    return\n  }\n  if (evt.target.textContent === 'right') {\n    console.log('Hello im right')\n    fetchLord((globalCurrentPage += 1))\n      .then((data) => {\n        createMarkup(data.results)\n        pagination(data.page, totalPage)\n      })\n      .catch((error) => {\n        console.log(error)\n      })\n    return\n  }\n  const page = evt.target.textContent\n  fetchLord(page)\n    .then((data) => {\n      createMarkup(data.results)\n      pagination(data.page, totalPage)\n    })\n    .catch((error) => {\n      console.log(error)\n    })\n}\n","import pagination from './js/pagination'\nimport searchVCharacters from './js/fetchLord'\n\nconst list = document.querySelector('.cards')\nexport const totalPage = 500\n\nexport function createMarkup(arr) {\n  const markup = arr.reduce(\n    (acc, { title, vote_average, poster_path }) =>\n      acc +\n      `<li class=\"cards-item\"><img class='movieImag' src=\"https://image.tmdb.org/t/p/w500${poster_path}\" alt=\"\"> <div class='description_box'><p class='title'>${title}</p><p class='grade'>${vote_average}</p></div></li>`,\n    '',\n  )\n  list.innerHTML = markup\n  smoothScrolling()\n}\n\nsearchVCharacters().then((data) => {\n  // console.log(data)\n  createMarkup(data.results)\n  pagination(data.page, totalPage)\n})\n\nfunction smoothScrolling() {\n  const { height: cardHeight } = list\n    .firstElementChild.getBoundingClientRect();\n\n  window.scrollBy({\n    top: cardHeight * -200,\n    behavior: 'smooth',\n  });\n}\n\n\n\n"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$cd5aaecc55d1d1f5$export$2e2bcd8739ae039","pageNumber","fetch","then","response","json","URL","resolve","import","meta","url","toString","$1bab9c519cfa82bc$var$paginationBox","document","querySelector","$1bab9c519cfa82bc$var$globalCurrentPage","$1bab9c519cfa82bc$export$2e2bcd8739ae039","currentPage","allPages","$1f0dc3b9307be026$export$bf021c307ff0031f","markup","afterPage","afterTwoPage","innerHTML","addEventListener","evt","console","log","target","textContent","nodeName","data","$1f0dc3b9307be026$export$24783e9f3a24abe4","results","page","catch","error","$1f0dc3b9307be026$var$list","arr","reduce","acc","title","vote_average","poster_path","height","cardHeight","firstElementChild","getBoundingClientRect","window","scrollBy","top","behavior","$1f0dc3b9307be026$var$smoothScrolling"],"version":3,"file":"index.82a8c7dd.js.map"}