{"mappings":"YAAA,IAAMA,EAAY,6CACZC,EAAO,mCACE,SAAAC,I,IAA2BC,EAAAC,UAAAC,OAAA,YAAAD,UAAA,GAAcA,UAAA,GAAD,EAC/CE,EAAM,GAAuBC,OAApBP,EAAS,aAAuBO,OAAZN,EAAI,UAAmBM,OAAXJ,GAE/C,OAAOK,MAAMF,GAAKG,MAAK,SAAAC,G,OAAYA,EAASC,M,ICF9C,IAAMC,EAAgBC,SAASC,cAAc,eACzCC,EAAoB,EAET,SAAAC,EAAoBC,G,IAAaC,EAAAd,UAAAC,OAAA,YAAAD,UAAA,GAAcA,UAAA,GAAH,IACrDe,EAAS,GACTC,EAAgBH,EAAc,EAC9BI,EAAaJ,EAAc,EAC3BK,EAAYL,EAAc,EAC1BM,EAAeN,EAAc,EACjCF,EAAoBE,EAGhBA,EAAc,IAChBE,GAAW,mBACXA,GAAW,cAETF,EAAc,IAChBE,GAAW,gBAETF,EAAc,IAChBE,GAAU,OAAqBZ,OAAda,EAAc,UAE7BH,EAAc,IAChBE,GAAU,OAAkBZ,OAAXc,EAAW,UAE9BF,GAAU,iCAA6CZ,OAAZU,EAAY,gBACnDA,GAAe,MAGfC,EAAW,EAAID,IACjBE,GAAU,OAAiBZ,OAAVe,EAAU,SAC3BE,QAAQC,IAAIH,IAEVJ,EAAW,EAAID,IACjBE,GAAU,OAAoBZ,OAAbgB,EAAa,SAC9BC,QAAQC,IAAIF,IAEVL,EAAW,EAAID,IACjBE,GAAW,iBAETD,EAAWD,GAAeC,EAAWD,KACvCE,GAAU,OAAsBZ,OAAfW,EAAW,IAAI,SAChCC,GAAW,oBAEbP,EAAcc,UAAYP,E,CAG5BP,EAAce,iBAAiB,SAE/B,SAA2BC,GACzB,GAA4B,OAAxBA,EAAIC,OAAOC,SACb,OAEF,GAA+B,QAA3BF,EAAIC,OAAOE,YACb,OAEF,GAA+B,MAA3BH,EAAIC,OAAOE,YAKb,YAJA7B,EAAWa,GAAqB,GAAIN,MAAK,SAAAuB,GACvCC,EAAaD,EAAKE,SAClBlB,EAAWgB,EAAKG,KAAMH,EAAKI,Y,IAI/B,GAA+B,MAA3BR,EAAIC,OAAOE,YAKb,YAJA7B,EAAWa,GAAqB,GAAIN,MAAK,SAAAuB,GACvCC,EAAaD,EAAKE,SAClBlB,EAAWgB,EAAKG,KAAMH,EAAKI,Y,IAK/BlC,EADa0B,EAAIC,OAAOE,aACRtB,MAAK,SAAAuB,GACnBC,EAAaD,EAAKE,SAClBlB,EAAWgB,EAAKG,KAAMH,EAAKI,Y,OCzE/B,IAAMC,EAAOxB,SAASC,cAAc,UAE7B,SAASmB,EAAaK,GAC3B,IAAMnB,EAASmB,EAAIC,QACjB,SAACC,EAAGC,G,IAAIC,EAAKD,EAALC,MAAOC,EAAYF,EAAZE,aAAcC,EAAWH,EAAXG,Y,OACvBJ,EAAM,uFAC6CjC,OADwCqC,EAClG,+DAAuFrC,OAA7BmC,EAAM,yBAAoCnC,OAAboC,EAAa,kB,GACnG,IAEFN,EAAKX,UAAYP,C,CAGnBjB,IAAoBO,MAAK,SAAAuB,GACvBR,QAAQC,IAAIO,GACZC,EAAaD,EAAKE,SAClBlB,EAAWgB,EAAKG,KAAMH,EAAKI,Y","sources":["src/js/fetchLord.js","src/js/pagination.js","src/index.js"],"sourcesContent":["const BASE_URL = `https://api.themoviedb.org/3/movie/popular`;\nconst KEY = `002008aca7b79d6606168d582d26d735`;\nexport default function searchVCharacters(pageNumber = 1) {\n  const URL = `${BASE_URL}?api_key=${KEY}&page=${pageNumber}`;\n \n  return fetch(URL).then(response => response.json());\n}\n\n\n","import fetchLord from './fetchLord';\nimport { createMarkup } from '../index';\n\nconst paginationBox = document.querySelector('.pagination');\nlet globalCurrentPage = 0;\n\nexport default function pagination(currentPage, allPages = 500) {\n  let markup = '';\n  let beforeTwoPage = currentPage - 2;\n  let beforePage = currentPage - 1;\n  let afterPage = currentPage + 1;\n  let afterTwoPage = currentPage + 2;\n  globalCurrentPage = currentPage;\n\n  \n  if (currentPage > 1) {\n    markup += `<li>&#8592;</li>`;\n    markup += `<li>1</li>`;\n  }\n  if (currentPage > 4) {\n    markup += `<li>...</li>`;\n  }\n  if (currentPage > 3) {\n    markup += `<li>${beforeTwoPage}</li>`;\n  }\n  if (currentPage > 2) {\n    markup += `<li>${beforePage}</li>`;\n  }\n  markup += `<li><span class='currentPage'>${currentPage}</span></li>`;\n  if (currentPage >= 499) {\n    return\n  }\n  if (allPages - 1 > currentPage) {\n    markup += `<li>${afterPage}</li>`;\n    console.log(afterPage)\n  }\n  if (allPages - 2 > currentPage) {\n    markup += `<li>${afterTwoPage}</li>`;\n    console.log(afterTwoPage)\n  }\n  if (allPages - 3 > currentPage) {\n    markup += `<li>...</li>`;\n  }\n  if (allPages > currentPage || allPages < currentPage) {\n    markup += `<li>${allPages = 500}</li>`;\n    markup += `<li>&#8594;</li>`;\n  }\n  paginationBox.innerHTML = markup;\n}\n\npaginationBox.addEventListener('click', handlrePagination);\n\nfunction handlrePagination(evt) {\n  if (evt.target.nodeName !== 'LI') {\n    return;\n  }\n  if (evt.target.textContent === '...') {\n    return;\n  }\n  if (evt.target.textContent === '←') {\n    fetchLord((globalCurrentPage -= 1)).then(data => {\n      createMarkup(data.results);\n      pagination(data.page, data.total_pages);\n    });\n    return;\n  }\n  if (evt.target.textContent === '→') {\n    fetchLord((globalCurrentPage += 1)).then(data => {\n      createMarkup(data.results);\n      pagination(data.page, data.total_pages);\n    });\n    return;\n  }\n  const page = evt.target.textContent;\n  fetchLord(page).then(data => {\n    createMarkup(data.results);\n    pagination(data.page, data.total_pages);\n  });\n}\n","import pagination from './js/pagination';\nimport searchVCharacters from './js/fetchLord';\n\nconst list = document.querySelector('.cards');\n\nexport function createMarkup(arr) {\n  const markup = arr.reduce(\n    (acc, { title, vote_average, poster_path\n    }) => acc + `<li class=\"cards-item\"><img class='movieImag' src=\"https://image.tmdb.org/t/p/w500${poster_path\n  }\" alt=\"\"> <div class='description_box'><p class='title'>${title}</p><p class='grade'>${vote_average}</p></div></li>`,\n    ''\n  );\n  list.innerHTML = markup;\n}\n\nsearchVCharacters().then(data => {\n  console.log(data);\n  createMarkup(data.results);\n  pagination(data.page, data.total_pages);\n});\n"],"names":["$f735a74eae0afc7d$var$BASE_URL","$f735a74eae0afc7d$var$KEY","$f735a74eae0afc7d$export$2e2bcd8739ae039","pageNumber","arguments","length","URL","concat","fetch","then","response","json","$dfaf77c789ce7a24$var$paginationBox","document","querySelector","$dfaf77c789ce7a24$var$globalCurrentPage","$dfaf77c789ce7a24$export$2e2bcd8739ae039","currentPage","allPages","markup","beforeTwoPage","beforePage","afterPage","afterTwoPage","console","log","innerHTML","addEventListener","evt","target","nodeName","textContent","data","$b8f9b7833fa37166$export$24783e9f3a24abe4","results","page","total_pages","$b8f9b7833fa37166$var$list","arr","reduce","acc","param","title","vote_average","poster_path"],"version":3,"file":"index.adcbffde.js.map"}