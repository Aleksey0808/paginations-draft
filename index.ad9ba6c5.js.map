{"mappings":"AAEe,SAAAA,EAA2BC,EAAa,GAGrD,OAAOC,MAFK,4FAAmCD,KAE7BE,MAAKC,GAAYA,EAASC,Q,CCD9C,MAAMC,EAAgBC,SAASC,cAAc,eAC7C,IAAIC,EAAoB,EAET,SAAAC,EAAoBC,EAAaC,EAAWC,GACzD,IAAIC,EAAS,GAGTC,EAAYJ,EAAc,EAC1BK,EAAeL,EAAc,EAiBjC,GAhBAF,EAAoBE,EAEhBA,EAAc,IAChBG,GAAU,iCACVA,GAAU,cAERH,EAAc,IAChBG,GAAU,gBAERH,EAAc,IAChBG,GAAU,OAdQH,EAAc,UAgB9BA,EAAc,IAChBG,GAAU,OAhBKH,EAAc,UAkB/BG,GAAU,iCAAiCH,gBACvCA,GAAeC,EACjB,OAAQN,EAAcW,UAAYH,EAEhCF,EAAW,EAAID,GACbI,GAAaH,IACfE,GAAU,OAAOC,UAIjBH,EAAW,EAAID,GACbK,GAAgBJ,IAClBE,GAAU,OAAOE,UAIjBJ,EAAW,EAAID,IACjBG,GAAU,eACVI,QAAQC,IAAIP,GACZM,QAAQC,IAAIR,KAEVC,EAAWD,GAAeC,EAAWD,KACvCG,GAAU,OAAOF,SACjBE,GAAU,kCAEZR,EAAcW,UAAYH,C,CAG5BR,EAAcc,iBAAiB,SAE/B,SAA2BC,GACzB,GAA4B,OAAxBA,EAAIC,OAAOC,SACb,OAEF,GAA+B,QAA3BF,EAAIC,OAAOE,YACb,OAEF,GAA+B,MAA3BH,EAAIC,OAAOE,YASb,YARAxB,EAAWS,GAAqB,GAC7BN,MAAMsB,IACLC,EAAaD,EAAKE,SAClBjB,EAAWe,EAAKG,KAAMf,EAAU,IAEjCgB,OAAOC,IACNZ,QAAQC,IAAIW,EAAM,IAIxB,GAA+B,MAA3BT,EAAIC,OAAOE,YASb,YARAxB,EAAWS,GAAqB,GAC7BN,MAAMsB,IACLC,EAAaD,EAAKE,SAClBjB,EAAWe,EAAKG,KAAMf,EAAU,IAEjCgB,OAAOC,IACNZ,QAAQC,IAAIW,EAAM,IAKxB9B,EADaqB,EAAIC,OAAOE,aAErBrB,MAAMsB,IACLC,EAAaD,EAAKE,SAClBjB,EAAWe,EAAKG,KAAMf,EAAU,IAEjCgB,OAAOC,IACNZ,QAAQC,IAAIW,EAAM,G,IC3FxB,MAAMC,EAAOxB,SAASC,cAAc,UACvBK,EAAY,IAElB,SAASa,EAAaM,GAC3B,MAAMlB,EAASkB,EAAIC,QACjB,CAACC,GAAKC,MAAEA,EAAKC,aAAEA,EAAYC,YAAEA,KAC3BH,EACA,qFAAqFG,4DAAsEF,yBAA6BC,oBAC1L,IAEFL,EAAKd,UAAYH,C,CAGnBd,IAAoBG,MAAMsB,IACxBP,QAAQC,IAAIM,GACZC,EAAaD,EAAKE,SAClBjB,EAAWe,EAAKG,KAAMf,EAAU","sources":["src/js/fetchLord.js","src/js/pagination.js","src/index.js"],"sourcesContent":["const BASE_URL = `https://api.themoviedb.org/3/movie/popular`;\nconst KEY = `002008aca7b79d6606168d582d26d735`;\nexport default function searchVCharacters(pageNumber = 1) {\n  const URL = `${BASE_URL}?api_key=${KEY}&page=${pageNumber}`;\n \n  return fetch(URL).then(response => response.json());\n}\n\n\n","import fetchLord from './fetchLord'\nimport { createMarkup } from '../index'\nimport { totalPage } from '../index'\n\nconst paginationBox = document.querySelector('.pagination')\nlet globalCurrentPage = 0\n\nexport default function pagination(currentPage, allPages = totalPage) {\n  let markup = ''\n  let beforeTwoPage = currentPage - 2\n  let beforePage = currentPage - 1\n  let afterPage = currentPage + 1\n  let afterTwoPage = currentPage + 2\n  globalCurrentPage = currentPage\n\n  if (currentPage > 1) {\n    markup += `<li class='arrow'>&#8592;</li>`\n    markup += `<li>1</li>`\n  }\n  if (currentPage > 4) {\n    markup += `<li>...</li>`\n  }\n  if (currentPage > 3) {\n    markup += `<li>${beforeTwoPage}</li>`\n  }\n  if (currentPage > 2) {\n    markup += `<li>${beforePage}</li>`\n  }\n  markup += `<li><span class='currentPage'>${currentPage}</span></li>`\n  if (currentPage >= allPages) {\n    return (paginationBox.innerHTML = markup)\n  }\n  if (allPages - 1 > currentPage) {\n    if (afterPage <= allPages) {\n      markup += `<li>${afterPage}</li>`\n      // console.log(afterPage)\n    }\n  }\n  if (allPages - 2 > currentPage) {\n    if (afterTwoPage <= allPages) {\n      markup += `<li>${afterTwoPage}</li>`\n      // console.log(afterTwoPage)\n    }\n  }\n  if (allPages - 3 > currentPage) {\n    markup += `<li>...</li>`\n    console.log(allPages)\n    console.log(currentPage)\n  }\n  if (allPages > currentPage || allPages < currentPage) {\n    markup += `<li>${allPages}</li>`\n    markup += `<li class='arrow'>&#8594;</li>`\n  }\n  paginationBox.innerHTML = markup\n}\n\npaginationBox.addEventListener('click', handlrePagination)\n\nfunction handlrePagination(evt) {\n  if (evt.target.nodeName !== 'LI') {\n    return\n  }\n  if (evt.target.textContent === '...') {\n    return\n  }\n  if (evt.target.textContent === '←') {\n    fetchLord((globalCurrentPage -= 1))\n      .then((data) => {\n        createMarkup(data.results)\n        pagination(data.page, totalPage)\n      })\n      .catch((error) => {\n        console.log(error)\n      })\n    return\n  }\n  if (evt.target.textContent === '→') {\n    fetchLord((globalCurrentPage += 1))\n      .then((data) => {\n        createMarkup(data.results)\n        pagination(data.page, totalPage)\n      })\n      .catch((error) => {\n        console.log(error)\n      })\n    return\n  }\n  const page = evt.target.textContent\n  fetchLord(page)\n    .then((data) => {\n      createMarkup(data.results)\n      pagination(data.page, totalPage)\n    })\n    .catch((error) => {\n      console.log(error)\n    })\n}\n","import pagination from './js/pagination'\nimport searchVCharacters from './js/fetchLord'\n\nconst list = document.querySelector('.cards')\nexport const totalPage = 500\n\nexport function createMarkup(arr) {\n  const markup = arr.reduce(\n    (acc, { title, vote_average, poster_path }) =>\n      acc +\n      `<li class=\"cards-item\"><img class='movieImag' src=\"https://image.tmdb.org/t/p/w500${poster_path}\" alt=\"\"> <div class='description_box'><p class='title'>${title}</p><p class='grade'>${vote_average}</p></div></li>`,\n    '',\n  )\n  list.innerHTML = markup\n}\n\nsearchVCharacters().then((data) => {\n  console.log(data)\n  createMarkup(data.results)\n  pagination(data.page, totalPage)\n})\n"],"names":["$cd5aaecc55d1d1f5$export$2e2bcd8739ae039","pageNumber","fetch","then","response","json","$1bab9c519cfa82bc$var$paginationBox","document","querySelector","$1bab9c519cfa82bc$var$globalCurrentPage","$1bab9c519cfa82bc$export$2e2bcd8739ae039","currentPage","allPages","$1f0dc3b9307be026$export$bf021c307ff0031f","markup","afterPage","afterTwoPage","innerHTML","console","log","addEventListener","evt","target","nodeName","textContent","data","$1f0dc3b9307be026$export$24783e9f3a24abe4","results","page","catch","error","$1f0dc3b9307be026$var$list","arr","reduce","acc","title","vote_average","poster_path"],"version":3,"file":"index.ad9ba6c5.js.map"}